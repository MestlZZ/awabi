using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Data.Entity;
using System.Text.RegularExpressions;
using WCS.Models;
using WCS.Databases;

namespace WCS.Databases
{
    public class SetChangesInDb
    {
        NoteContext db = new NoteContext();
        public void SaveDb(Note note)
        {
            db.Notes.Add(note);
            db.SaveChanges();
        }
        public void SaveDb(State state)
        {
            db.States.Add(state);
            db.SaveChanges();
        }
        public void UpdateDb(Note note)
        {
            db.Entry(note).State = EntityState.Modified;
            db.SaveChanges();
        }
        public void UpdateDb( State state )
        {
            db.Entry( state ).State = EntityState.Modified;
            db.SaveChanges();
        }
        public void DeleteDb(Note note)
        {
            db.Notes.Remove( note );
            db.SaveChanges();
        }
        public void DeleteDb( State state )
        {
            db.States.Remove( state );
            db.SaveChanges();
        }
        public void DeleteDb()
        {
            db.Database.Delete();
            db.SaveChanges();
        }
        public void AddStatesToDb()
        {
            /*State[] states = new State[227];
            StringBuilder str = new StringBuilder("",100);
            string str1 = "asdsa";
            Regex newReg = new Regex(@">+[^<]+</");
            int i = 0;
            MatchCollection matches = newReg.Matches("<tbody><tr><td><a title=ВНЗ у регіоні: м. Київ href=/2015/i2015o27.html#reg>м. Київ</a></td></tr>				<tr><td><a title=ВНЗ у регіоні: Вінницька область href=/2015/i2015o3.html#reg>Вінницька область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Волинська область href=/2015/i2015o4.html#reg>Волинська область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Дніпропетровська область href=/2015/i2015o5.html#reg>Дніпропетровська область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Донецька область href=/2015/i2015o6.html#reg>Донецька область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Житомирська область href=/2015/i2015o7.html#reg>Житомирська область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Закарпатська область href=/2015/i2015o8.html#reg>Закарпатська область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Запорізька область href=/2015/i2015o9.html#reg>Запорізька область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Івано-Франківська область href=/2015/i2015o10.html#reg>Івано-Франківська область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Київська область href=/2015/i2015o11.html#reg>Київська область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Кіровоградська область href=/2015/i2015o12.html#reg>Кіровоградська область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Луганська область href=/2015/i2015o13.html#reg>Луганська область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Львівська область href=/2015/i2015o14.html#reg>Львівська область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Миколаївська область href=/2015/i2015o15.html#reg>Миколаївська область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Одеська область href=/2015/i2015o16.html#reg>Одеська область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Полтавська область href=/2015/i2015o17.html#reg>Полтавська область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Рівненська область href=/2015/i2015o18.html#reg>Рівненська область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Сумська область href=/2015/i2015o19.html#reg>Сумська область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Тернопільська область href=/2015/i2015o20.html#reg>Тернопільська область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Харківська область href=/2015/i2015o21.html#reg>Харківська область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Херсонська область href=/2015/i2015o22.html#reg>Херсонська область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Хмельницька область href=/2015/i2015o23.html#reg>Хмельницька область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Черкаська область href=/2015/i2015o24.html#reg>Черкаська область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Чернівецька область href=/2015/i2015o25.html#reg>Чернівецька область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: Чернігівська область href=/2015/i2015o26.html#reg>Чернігівська область</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: АР Крим href=/2015/i2015o2.html#reg>АР Крим</a></td></tr>		<tr><td><a title=ВНЗ у регіоні: м. Севастополь href=/2015/i2015o28.html#reg>м. Севастополь</a></td></tr>");
            foreach (Match mat in matches)
            {
                states[i] = new State();
                str.Append( mat.Value );
                str.Remove(0, 1);
                str.Replace( '/', ' ' );
                str.Replace( '<', ' ' );
                str1 = str.ToString();
                states[i].Name = str1;
                i++;
                states[i-1].StateID = i.ToString();
                str.Remove( 0, str.Length );
            }
            List<State> state = new List<State>(states);
            db.States.AddRange(state);
            db.SaveChanges();*/
        }
        public void AddUniversityToDb()
        {
           /* University[] univ = new University[57];
            StringBuilder str = new StringBuilder("",100);
            Regex newReg = new Regex(@">+[^<]+</a");
            int i = 0;
            MatchCollection matches = newReg.Matches("<tbody><tr><td><a title=Івано-Франківський національний медичний університет href=./i2015i285.html#vnz>Івано-Франківський національний медичний університет</a></td></tr><tr><td><a title=Івано-Франківський національний технічний університет нафти і газу href=./i2015i165.html#vnz>Івано-Франківський національний технічний університет нафти і газу</a></td></tr><tr><td><a title=Івано-Франківський університет права імені Короля Данила Галицького, ПВНЗ href=./i2015i144.html#vnz>Івано-Франківський університет права імені Короля Данила Галицького, ПВНЗ</a></td></tr><tr><td><a title=Прикарпатський національний університет імені Василя Стефаника href=./i2015i341.html#vnz>Прикарпатський національний університет імені Василя Стефаника</a></td></tr></tbody></table>				</div>			</div>		</div>			<div class=accordion-group>				<div class=accordion-heading togglize>					<a title=Тип організації: Академія, кількість записів: 1 class=accordion-toggle data-toggle=collapse data-parent=# href=#akad>Академії (1)<span class=font-icon-plus></span><span class=font-icon-minus></span></a>                </div>                <div id=akad class=accordion-body collapse>                    <div class=accordion-inner><table id=vnzt1 class=tablesaw tablesaw-stack><tbody><tr><td><a title=Галицька Академія href=./i2015i336.html#vnz>Галицька Академія</a></td></tr></tbody></table>				</div>			</div>		</div>			<div class=accordion-group>				<div class=accordion-heading togglize>					<a title=Тип організації: Інститут, кількість записів: 4 class=accordion-toggle data-toggle=collapse data-parent=# href=#inst>Інститути (4)<span class=font-icon-plus></span><span class=font-icon-minus></span></a>                </div>                <div id=inst class=accordion-body collapse>                    <div class=accordion-inner><table id=vnzt2 class=tablesaw tablesaw-stack><tbody><tr><td><a title=Івано-Франківський обласний інститут післядипломної педагогічної освіти href=./i2015i1757.html#vnz>Івано-Франківський обласний інститут післядипломної педагогічної освіти</a></td></tr><tr><td><a title=Інститут управління природними ресурсами ВНЗ Університет економіки та права КРОК href=./i2015i869.html#vnz>Інститут управління природними ресурсами ВНЗ Університет економіки та права КРОК</a></td></tr><tr><td><a title=Карпатський інститут інформатики та підприємництва ПВНЗ Міжнародний науково-технічний університет імені академіка Юрія Бугая href=./i2015i1236.html#vnz>Карпатський інститут інформатики та підприємництва ПВНЗ Міжнародний науково-технічний університет імені академіка Юрія Бугая</a></td></tr><tr><td><a title=Косівський інститут прикладного та декоративного мистецтва Львівської національної академії мистецтв href=./i2015i269.html#vnz>Косівський інститут прикладного та декоративного мистецтва Львівської національної академії мистецтв</a></td></tr></tbody></table>				</div>			</div>		</div>			<div class=accordion-group>				<div class=accordion-heading togglize>					<a title=Тип організації: Коледж, кількість записів: 23 class=accordion-toggle data-toggle=collapse data-parent=# href=#college>Коледжі (23)<span class=font-icon-plus></span><span class=font-icon-minus></span></a>                </div>                <div id=college class=accordion-body collapse>                    <div class=accordion-inner><table id=vnzt4 class=tablesaw tablesaw-stack><tbody><tr><td><a title=Івано-Франківський базовий медичний коледж href=./i2015i527.html#vnz>Івано-Франківський базовий медичний коледж</a></td></tr><tr><td><a title=Івано-Франківський державний коледж технологій та бізнесу href=./i2015i1149.html#vnz>Івано-Франківський державний коледж технологій та бізнесу</a></td></tr><tr><td><a title=Івано-Франківський коледж ДВНЗ Прикарпатський національний університет імені Василя Стефаника href=./i2015i1762.html#vnz>Івано-Франківський коледж ДВНЗ Прикарпатський національний університет імені Василя Стефаника</a></td></tr><tr><td><a title=Івано-Франківський муніципальний коледж, ТзОВ href=./i2015i1425.html#vnz>Івано-Франківський муніципальний коледж, ТзОВ</a></td></tr><tr><td><a title=Івано-Франківський фінансово-комерційний кооперативний коледж імені С. Граната href=./i2015i529.html#vnz>Івано-Франківський фінансово-комерційний кооперативний коледж імені С. Граната</a></td></tr><tr><td><a title=Івано-Франківський юридичний коледж Національного університету Одеська юридична академія href=./i2015i1156.html#vnz>Івано-Франківський юридичний коледж Національного університету Одеська юридична академія</a></td></tr><tr><td><a title=Івано-Франківський юридичний коледж Національного університету Одеська юридична академія href=./i2015i1414.html#vnz>Івано-Франківський юридичний коледж Національного університету Одеська юридична академія</a></td></tr><tr><td><a title=Верховинський коледж туризму і готельного господарства(смт. Верховина) Прикарпатський національний університет ім. Василя Стефаника href=./i2015i1235.html#vnz>Верховинський коледж туризму і готельного господарства(смт. Верховина) Прикарпатський національний університет ім. Василя Стефаника</a></td></tr><tr><td><a title=Калуський коледж економіки, права та інформаційних технологій Івано-Франківського національного технічного університету нафти і газу href=./i2015i2651.html#vnz>Калуський коледж економіки, права та інформаційних технологій Івано-Франківського національного технічного університету нафти і газу</a></td></tr><tr><td><a title=Калуський коледж культури і мистецтв href=./i2015i988.html#vnz>Калуський коледж культури і мистецтв</a></td></tr><tr><td><a title=Калуський політехнічний коледж href=./i2015i445.html#vnz>Калуський політехнічний коледж</a></td></tr><tr><td><a title=Коледж бізнесу та інформатики ПВНЗ Галицька академія href=./i2015i1448.html#vnz>Коледж бізнесу та інформатики ПВНЗ Галицька академія</a></td></tr><tr><td><a title=Коломийський економіко-правовий коледж Київського національного торговельно-економічного університету href=./i2015i568.html#vnz>Коломийський економіко-правовий коледж Київського національного торговельно-економічного університету</a></td></tr><tr><td><a title=Коломийський коледж Інституту управління природними ресурсами ВНЗ Університет економіки та права КРОК href=./i2015i880.html#vnz>Коломийський коледж Інституту управління природними ресурсами ВНЗ Університет економіки та права КРОК</a></td></tr><tr><td><a title=Коломийський медичний коледж імені І. Франка href=./i2015i1241.html#vnz>Коломийський медичний коледж імені І. Франка</a></td></tr><tr><td><a title=Коломийський педагогічний коледж Івано-Франківської обласної ради href=./i2015i2627.html#vnz>Коломийський педагогічний коледж Івано-Франківської обласної ради</a></td></tr><tr><td><a title=Коломийський педагогічний коледж ДВНЗ Прикарпатський національний університет імені Василя Стефаника href=./i2015i570.html#vnz>Коломийський педагогічний коледж ДВНЗ Прикарпатський національний університет імені Василя Стефаника</a></td></tr><tr><td><a title=Медичний коледж ДВНЗ Івано-Франківський національний медичний університет href=./i2015i1212.html#vnz>Медичний коледж ДВНЗ Івано-Франківський національний медичний університет</a></td></tr><tr><td><a title=Надвірнянський коледж Національного транспортного університету href=./i2015i672.html#vnz>Надвірнянський коледж Національного транспортного університету</a></td></tr><tr><td><a title=Прикарпатський лісогосподарський коледж href=./i2015i720.html#vnz>Прикарпатський лісогосподарський коледж</a></td></tr><tr><td><a title=Рогатинський державний аграрний коледж href=./i2015i734.html#vnz>Рогатинський державний аграрний коледж</a></td></tr><tr><td><a title=Тлумацький коледж Львівського національного аграрного університету href=./i2015i785.html#vnz>Тлумацький коледж Львівського національного аграрного університету</a></td></tr><tr><td><a title=Юридичний коледж (м. Івано-Франківськ) Прикарпатський національний університет імені Василя Стефаника href=./i2015i1234.html#vnz>Юридичний коледж (м. Івано-Франківськ) Прикарпатський національний університет імені Василя Стефаника</a></td></tr></tbody></table>				</div>			</div>		</div>			<div class=accordion-group>				<div class=accordion-heading togglize>					<a title=Тип організації: Технікум (училище), кількість записів: 3 class=accordion-toggle data-toggle=collapse data-parent=# href=#ptu>Технікуми (училища) (3)<span class=font-icon-plus></span><span class=font-icon-minus></span></a>                </div>                <div id=ptu class=accordion-body collapse>                    <div class=accordion-inner><table id=vnzt5 class=tablesaw tablesaw-stack><tbody><tr><td><a title=Івано-Франківське музичне училище імені Дениса Січинського href=./i2015i526.html#vnz>Івано-Франківське музичне училище імені Дениса Січинського</a></td></tr><tr><td><a title=Коломийський індустріально-педагогічний технікум href=./i2015i569.html#vnz>Коломийський індустріально-педагогічний технікум</a></td></tr><tr><td><a title=Косівське училище прикладного та декоративного мистецтва Львівської національної академії мистецтв href=./i2015i1280.html#vnz>Косівське училище прикладного та декоративного мистецтва Львівської національної академії мистецтв</a></td></tr></tbody></table>				</div>			</div>		</div>			<div class=accordion-group>				<div class=accordion-heading togglize>					<a title=Тип організації: Відокремлений підрозділ, кількість записів: 22 class=accordion-toggle data-toggle=collapse data-parent=# href=#vidpid>Відокремлені підрозділи (22)<span class=font-icon-plus></span><span class=font-icon-minus></span></a>                </div>                <div id=vidpid class=accordion-body collapse>                    <div class=accordion-inner><table id=vnzt6 class=tablesaw tablesaw-stack><tbody><tr><td><a title=Івано-Франківська філія ВНЗ Відкритий міжнародний університет розвитку людини Україна href=./i2015i245.html#vnz>Івано-Франківська філія ВНЗ Відкритий міжнародний університет розвитку людини Україна</a></td></tr><tr><td><a title=Івано-Франківський коледж ДВНЗ Прикарпатський національний університет імені Василя Стефаника href=./i2015i2712.html#vnz>Івано-Франківський коледж ДВНЗ Прикарпатський національний університет імені Василя Стефаника</a></td></tr><tr><td><a title=Івано-Франківський коледж Львівського національного аграрного університету href=./i2015i528.html#vnz>Івано-Франківський коледж Львівського національного аграрного університету</a></td></tr><tr><td><a title=Івано-Франківський коледж фізичного виховання Національного університету фізичного виховання і спорту України href=./i2015i1012.html#vnz>Івано-Франківський коледж фізичного виховання Національного університету фізичного виховання і спорту України</a></td></tr><tr><td><a title=Івано-Франківський навчально-науковий інститут менеджменту Тернопільського національного економічного університету href=./i2015i2784.html#vnz>Івано-Франківський навчально-науковий інститут менеджменту Тернопільського національного економічного університету</a></td></tr><tr><td><a title=Івано-Франківський технікум ресторанного сервісу і туризму Національного університету харчових технологій href=./i2015i1650.html#vnz>Івано-Франківський технікум ресторанного сервісу і туризму Національного університету харчових технологій</a></td></tr><tr><td><a title=Івано-Франківський факультет Національного університету Одеська юридична академія href=./i2015i1111.html#vnz>Івано-Франківський факультет Національного університету Одеська юридична академія</a></td></tr><tr><td><a title=Бурштинський енергетичний коледж Івано-Франківського національного технічного університету нафти і газу href=./i2015i394.html#vnz>Бурштинський енергетичний коледж Івано-Франківського національного технічного університету нафти і газу</a></td></tr><tr><td><a title=Бурштинський торговельно-економічний коледж Київського національного торговельно-економічного університету href=./i2015i2411.html#vnz>Бурштинський торговельно-економічний коледж Київського національного торговельно-економічного університету</a></td></tr><tr><td><a title=Калуський навчально-консультаційний центр ДВНЗ Прикарпатський національний університет імені Василя Стефаника href=./i2015i2739.html#vnz>Калуський навчально-консультаційний центр ДВНЗ Прикарпатський національний університет імені Василя Стефаника</a></td></tr><tr><td><a title=Калуський факультет Київського національного університету культури і мистецтв href=./i2015i1612.html#vnz>Калуський факультет Київського національного університету культури і мистецтв</a></td></tr><tr><td><a title=Коледж Івано-Франківського університету права імені Короля Данила Галицького href=./i2015i1563.html#vnz>Коледж Івано-Франківського університету права імені Короля Данила Галицького</a></td></tr><tr><td><a title=Коледж електронних приладів Івано-Франківського національного технічного університету нафти і газу href=./i2015i565.html#vnz>Коледж електронних приладів Івано-Франківського національного технічного університету нафти і газу</a></td></tr><tr><td><a title=Коломийський інститут ДВНЗ Прикарпатський національний університет імені Василя Стефаника href=./i2015i2738.html#vnz>Коломийський інститут ДВНЗ Прикарпатський національний університет імені Василя Стефаника</a></td></tr><tr><td><a title=Коломийський політехнічний коледж Національного університету Львівська політехніка href=./i2015i428.html#vnz>Коломийський політехнічний коледж Національного університету Львівська політехніка</a></td></tr><tr><td><a title=Навчально-консультаційний пункт Івано-Франковського національного технічного університету нафти і газу у м. Бурштин href=./i2015i2770.html#vnz>Навчально-консультаційний пункт Івано-Франковського національного технічного університету нафти і газу у м. Бурштин</a></td></tr><tr><td><a title=Навчально-консультаційний пункт Івано-Франковського національного технічного університету нафти і газу у м. Надвірна href=./i2015i2769.html#vnz>Навчально-консультаційний пункт Івано-Франковського національного технічного університету нафти і газу у м. Надвірна</a></td></tr><tr><td><a title=Навчально-консультаційний пункт м. Івано-Франківськ Національної академії внутрішніх справ href=./i2015i1592.html#vnz>Навчально-консультаційний пункт м. Івано-Франківськ Національної академії внутрішніх справ</a></td></tr><tr><td><a title=Навчально-консультаційний центр Національного транспортного університету у м. Івано-Франківську href=./i2015i936.html#vnz>Навчально-консультаційний центр Національного транспортного університету у м. Івано-Франківську</a></td></tr><tr><td><a title=Надвірнянський коледж Національного транспортного університету href=./i2015i2639.html#vnz>Надвірнянський коледж Національного транспортного університету</a></td></tr><tr><td><a title=Прикарпатський факультет (м. Івано-Франківськ) href=./i2015i1470.html#vnz>Прикарпатський факультет (м. Івано-Франківськ)</a></td></tr><tr><td><a title=Снятинський коледж Подільського державного аграрно-технічного Університету href=./i2015i1299.html#vnz>Снятинський коледж Подільського державного аграрно-технічного Університету</a></td></tr></tbody>");
            foreach (Match mat in matches)
            {
                univ[i] = new University();
                univ[i].StateID = "9";
                str.Append( mat.Value );
                str.Remove( 0, 1 );
                str.Replace( '/', ' ' );
                str.Replace( '<', ' ' );
                str.Replace( 'a', ' ' );
                univ[i].Name = str.ToString();
                i++;
                univ[i - 1].UniversityID = (i + 637).ToString();
                str.Remove( 0, str.Length );
            }
            List<University> univer = new List<University>(univ);
            db.Universities.AddRange( univer );
            db.SaveChanges();*/
        }
    }
}
